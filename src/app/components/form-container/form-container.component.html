<div class="form-container" [style.max-width]="maxWidth">
  <h2>{{ title }}</h2>
  <form [formGroup]="form">
    <div *ngIf="inputFields.length > 0" class="form-fields">
      <app-input-field
        *ngFor="let field of inputFields"
        [type]="field.type"
        [placeholder]="field.placeholder"
        [label]="field.label"
        [formControlName]="getFieldValue(field)"
        [variant]="field.variant"
        [size]="field.size"
        [options]="field.options"
        [selectedOption]="field.selectedOption"
        [readonly]="getFieldReadonly(field)"
        [required]="getFieldRequired(field)"
        [nullable]="getFieldNullable(field)"
      ></app-input-field>
    </div>
    <div *ngIf="inputFields.length > 0" class="error-message" [class.show]="isErrorVisible" [class.hide]="!isErrorVisible && errorMessage">
      {{ errorMessage }}
    </div>
    <div class="form-actions">
      <app-button 
        [buttonConfig]="submitButtonConfig"
        (click)="handleSubmit()"
      ></app-button>
      <app-button 
        *ngIf="cancelButtonConfig.label !== ''"
        [buttonConfig]="cancelButtonConfig"
        (click)="handleCancel()"
      ></app-button>
    </div>
  </form>
</div>